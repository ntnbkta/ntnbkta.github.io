
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">

    <title> Proxy call to win.open </title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" />

    <link rel="stylesheet" href="style.css" />


    <!-- all scripts should be below this point -->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

    <script>
        var opener = window.opener,
            body;

        try{
            body = opener.document.body && $(opener.document.body).hasClass('opener-hook');
        }catch( e ){
            body = null;
        }

        if(opener === null){
            alert('Failed, no reference to win.opener given - should be given an empty object');
        }else if ( body ){
            alert('Failed. We could search the DOM');
        }else {
            $(function(){
                $('body').addClass('success').find('h1').text(
                    'Page has proper window.opener access! ' +
                    'We have an empty object and no access to the DOM'
                );
            });
        }
    </script>

  </head>
  <body>

    <h1>This page was not given window.opener access</h1>

  </body>
</html>
